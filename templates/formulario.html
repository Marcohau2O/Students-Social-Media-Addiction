<!doctype html>
<html lang="en">
    <head>
        <title>inicio</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <!-- Bootstrap CSS v5.2.1 -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <style>
            .fade-in {
                opacity: 0;
                transform: translateY(-10px);
                transition: all 0.5s ease-in-out;
            }

            .fade-in.show {
                opacity: 1;
                transform: translateY(0);
            }
        </style>
    </head>

    <body class="bg-gray-100 min-h-screen flex items-center justify-center">
        <div class="bg-white shadow-lg rounded-xl p-8 max-w-xl w-full text-center">

            <h2 class="text-2xl font-bold mb-4 text-gray-800">!Bienvenido al Análisis Predictivo!</h2>
            <p class="mb-6 text-gray-600">
                Este sistema utiliza tus datos personales para realizar predicciones usando diferentes modelos de Machine Learning.
            </p>

            <button onclick="mostraFormulario()"
            class=" bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition"
            >
            Iniciar
            </button>

            <!-- Formualrio -->
             <div id="formularioUsuario" class="mt-6 fade-in hidden text-left">
                <form onsubmit="event.preventDefault(); guardarDatos()" class="space-y-4">
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Ingresa tu edad:</label>
                        <input type="number" id="edad" class="mt-1 w-full p-2 border rounded" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700">Selecciona tu género:</label>
                        <select id="genero" class="mt-1 w-full p-2 border rounded" required>
                            <option value="" disabled selected>Seleccione</option>
                            <option value="0">Femenino</option>
                            <option value="1">Masculino</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700">Ingresa el número de horas diarias que dedicas al uso de redes sociales</label>
                        <input type="number" step="any" id="horas" class="mt-1 w-full p-2 border rounded" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700">Selecciona el número de horas que duermes en noche:</label>
                        <input type="number" step="any" id="sueno" class="mt-1 w-full p-2 border rounded" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700">Puntaje de adicción a las Redes Sociales(1-10)</label>
                        <input type="number" step="any" id="adiccion" class="mt-1 w-full p-2 border rounded" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700">¿Has tenido conflictos con desconocidos, amigos o familiares debido a las redes sociales?</label>
                        <select id="conflictos" class="mt-1 w-full p-2 border rounded" required>
                            <option value="" disabled selected>Seleccione</option>
                            <option value="0">No</option>
                            <option value="1">Si</option>
                        </select>
                    </div>

                    <div class="flex justify-between items-center pt-4">
                        <button id="btnGuardar" type="button" onclick="guardarDatos()" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition" disabled>
                            Guardar
                        </button>
                    </div>

                </form>
             </div>
        </div>
        <!-- Bootstrap JavaScript Libraries -->
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"
        ></script>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"
        ></script>
        <script>
            function mostraFormulario() {
                const form = document.getElementById("formularioUsuario");
                form.classList.remove("hidden");
                setTimeout(() => {
                    form.classList.add("show");
                    document.getElementById("btnGuardar").disabled = false;
                }, 10)
            }

            function guardarDatos() {
                const edad = parseFloat(document.getElementById("edad").value);
                const genero = parseInt(document.getElementById("genero").value);
                const horas = parseFloat(document.getElementById("horas").value);
                const sueño = parseFloat(document.getElementById("sueno").value);
                const adiccion = parseFloat(document.getElementById("adiccion").value);
                const conflictos = parseInt(document.getElementById("conflictos").value);

                const datos = { edad, genero, horas, sueño, adiccion, conflictos };
                localStorage.setItem("usuarioDatos", JSON.stringify(datos));
                
                Swal.fire({
                    title: "Datos guardados correctamente",
                    text: "Sera redirigido al dashboard",
                    icon: "success",
                     confirmButtonText: "Continuar"
                }).then(() => {
                    window.location.href = "/dashboard";
                })
            }
        </script>
    </body>
</html>
